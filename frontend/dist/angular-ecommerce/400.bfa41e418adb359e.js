"use strict";(self.webpackChunkangular_ecommerce=self.webpackChunkangular_ecommerce||[]).push([[400],{52400:(_,d,n)=>{n.r(d),n.d(d,{OrderHistoryComponent:()=>f});var t=n(98256),a=n(92340),c=n(80529);let l=(()=>{class e{constructor(r){this.httpClient=r,this.orderUrl=a.N.apiUrl+"/orders"}getOrderHistory(r){return this.httpClient.get(`${this.orderUrl}/search/findByCustomerEmail?email=${r}&sort=dateCreated,DESC`)}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(c.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=n(36895);function g(e,o){1&e&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"div",7),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"div",7),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"div",7),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"div",7),t.qZA()())}function m(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"table",5)(2,"tbody")(3,"tr")(4,"th",6),t._UZ(5,"div",7),t.qZA(),t.TgZ(6,"th",8),t._UZ(7,"div",7),t.qZA(),t.TgZ(8,"th",8),t._UZ(9,"div",7),t.qZA(),t.TgZ(10,"th",8),t._UZ(11,"div",7),t.qZA()(),t.YNc(12,g,9,0,"tr",9),t.qZA()(),t.BQk()),2&e){const r=t.oxw();t.xp6(12),t.Q6J("ngForOf",r.skeletonOrderHistoryList)}}function u(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"date"),t.qZA()()),2&e){const r=o.$implicit;t.xp6(2),t.Oqu(r.orderTrackingNumber),t.xp6(2),t.Oqu(t.xi3(5,4,r.totalPrice,"USD")),t.xp6(3),t.Oqu(r.totalQuantity),t.xp6(2),t.Oqu(t.xi3(10,7,r.dateCreated,"medium"))}}function p(e,o){if(1&e&&(t.TgZ(0,"div")(1,"table",12)(2,"tbody")(3,"tr")(4,"th",6),t._uU(5,"Order Tracking Number"),t.qZA(),t.TgZ(6,"th",8),t._uU(7,"Total Price"),t.qZA(),t.TgZ(8,"th",8),t._uU(9,"Total Quantity"),t.qZA(),t.TgZ(10,"th",8),t._uU(11,"Date"),t.qZA()(),t.YNc(12,u,11,10,"tr",9),t.qZA()()()),2&e){const r=t.oxw(2);t.xp6(12),t.Q6J("ngForOf",r.orderHistoryList)}}function y(e,o){1&e&&(t.TgZ(0,"div",13),t._uU(1," No order found. "),t.qZA())}function Z(e,o){if(1&e&&(t.YNc(0,p,13,1,"div",10),t.YNc(1,y,2,0,"div",11)),2&e){const r=t.oxw();t.Q6J("ngIf",r.orderHistoryList.length>0),t.xp6(1),t.Q6J("ngIf",0==r.orderHistoryList.length)}}let f=(()=>{class e{constructor(r){this.orderHistoryService=r,this.orderHistoryList=[],this.skeletonOrderHistoryList=Array(8).fill({}),this.storage=sessionStorage}ngOnInit(){this.handleOrderHistory()}handleOrderHistory(){const r=JSON.parse(this.storage.getItem("userEmail"));this.orderHistoryService.getOrderHistory(r).subscribe(i=>{this.orderHistoryList=i._embedded.orders,this.skeletonOrderHistoryList=[]})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(l))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-history"]],decls:8,vars:2,consts:[[1,"main-content"],[1,"section-content","section-content-p30"],[1,"container-fluid"],[4,"ngIf","ngIfElse"],["orderList",""],[1,"skeleton-table"],["width","20%"],[1,"skeleton-line"],["width","10%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","alert alert-warning col-md-12","role","alert",4,"ngIf"],[1,"table","table-bordered"],["role","alert",1,"alert","alert-warning","col-md-12"]],template:function(r,i){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4,"Your Orders"),t.qZA(),t.YNc(5,m,13,1,"ng-container",3),t.YNc(6,Z,2,2,"ng-template",null,4,t.W1O),t.qZA()()()),2&r){const h=t.MAs(7);t.xp6(5),t.Q6J("ngIf",0!==i.skeletonOrderHistoryList.length)("ngIfElse",h)}},dependencies:[s.sg,s.O5,s.H9,s.uU],styles:[".skeleton-table[_ngcontent-%COMP%]{width:100%}.skeleton-line[_ngcontent-%COMP%]{height:20px;background-color:#e0e0e0;opacity:.6;height:36px;margin-top:4px}@keyframes loading{0%{background-position:200% 0}to{background-position:-200% 0}}.skeleton-line[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:loading 1.7s infinite}"]}),e})()}}]);