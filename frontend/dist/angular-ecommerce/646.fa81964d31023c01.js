"use strict";(self.webpackChunkangular_ecommerce=self.webpackChunkangular_ecommerce||[]).push([[646],{44646:(b,p,i)=>{i.r(p),i.d(p,{ProductListComponent:()=>v});var d=i(53162),t=i(98256),l=i(66082),g=i(94166),_=i(90910),c=i(36895),h=i(13863),u=i(90433);function m(o,s){1&o&&(t.ynx(0),t.TgZ(1,"div",7)(2,"div",8),t._UZ(3,"div",9)(4,"div",10)(5,"div",11),t.qZA()(),t.BQk())}function C(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",12)(2,"a",13),t._UZ(3,"img",14),t.qZA(),t.TgZ(4,"a",13)(5,"h1"),t._uU(6),t.qZA()(),t.TgZ(7,"div",15),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"button",16),t.NdJ("click",function(){const a=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.addToCart(a))}),t._uU(11," Add to cart "),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.MGl("routerLink","/products/",e.id,""),t.xp6(1),t.s9C("src",e.imageUrl,t.LSH),t.xp6(1),t.MGl("routerLink","/products/",e.id,""),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hij(" ",t.xi3(9,5,e.unitPrice,"USD")," ")}}function P(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",18)(2,"ngb-pagination",19),t.NdJ("pageChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.pageNumber=r)})("pageChange",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.listProducts())}),t.qZA()(),t.TgZ(3,"div",20)(4,"span"),t._uU(5,"Page Size"),t.qZA(),t.TgZ(6,"select",21,22),t.NdJ("change",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.updatePageSize(r))}),t.TgZ(8,"option",23),t._uU(9,"5"),t.qZA(),t.TgZ(10,"option"),t._uU(11,"10"),t.qZA(),t.TgZ(12,"option"),t._uU(13,"20"),t.qZA(),t.TgZ(14,"option"),t._uU(15,"30"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("page",e.pageNumber)("pageSize",e.pageSize)("collectionSize",e.totalElements)("maxSize",5)("boundaryLinks",!0)}}let v=(()=>{class o{constructor(e,n,r){this.productService=e,this.route=n,this.cartService=r,this.products=[],this.skeletonProducts=Array(8).fill({}),this.currentCategoryId=1,this.previousCategoryId=1,this.currentCategoryName="",this.searchMode=!1,this.pageNumber=1,this.pageSize=5,this.totalElements=0,this.previousSearchInput=""}ngOnInit(){this.route.paramMap.subscribe(()=>{this.listProducts()})}listProducts(){this.searchMode=this.route.snapshot.paramMap.has("keyword"),this.searchMode?this.handleSearchProducts():this.handleListProducts()}handleSearchProducts(){const e=this.route.snapshot.paramMap.get("keyword");this.previousSearchInput!==e&&(this.pageNumber=1),this.previousSearchInput=e,this.productService.searchProductsPaginate(this.pageNumber-1,this.pageSize,e).subscribe(this.processResult())}handleListProducts(){this.route.snapshot.paramMap.has("id")?(this.currentCategoryId=+this.route.snapshot.paramMap.get("id"),this.currentCategoryName=this.route.snapshot.paramMap.get("name")):(this.currentCategoryId=1,this.currentCategoryName="Books"),this.previousCategoryId!=this.currentCategoryId&&(this.pageNumber=1),this.previousCategoryId=this.currentCategoryId,this.productService.getProductListPaginate(this.pageNumber-1,this.pageSize,this.currentCategoryId).subscribe(this.processResult())}processResult(){return e=>{this.skeletonProducts=[],this.products=e._embedded.products,this.pageNumber=e.page.number+1,this.pageSize=e.page.size,this.totalElements=e.page.totalElements}}updatePageSize(e){this.pageSize=e.target.value,this.pageNumber=1,this.listProducts()}addToCart(e){const n=new d.b(e);this.cartService.addToCart(n)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.M),t.Y36(g.gz),t.Y36(_.N))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-list"]],decls:7,vars:3,consts:[[1,"main-content"],[1,"section-content","section-content-p30"],[1,"container-fluid","product-list-container"],[1,"row"],[4,"ngFor","ngForOf"],["class","col-12 col-sm-6 col-md-4 col-xl-3",4,"ngFor","ngForOf"],["class","footer-pagination",4,"ngIf"],[1,"col-12","col-sm-6","col-md-4","col-xl-3"],[1,"product-box","skeleton"],[1,"skeleton-title","skeleton-bg-color"],[1,"skeleton-price","skeleton-bg-color"],[1,"skeleton-button","skeleton-bg-color"],[1,"product-box"],[3,"routerLink"],["loading","lazy",1,"img-responsive",3,"src"],[1,"price"],[1,"btn","btn-primary","btn-style",3,"click"],[1,"footer-pagination"],[1,"left-pagination"],[3,"page","pageSize","collectionSize","maxSize","boundaryLinks","pageChange"],[1,"right-pagination"],[3,"change"],["myPageSelect",""],["selected","true"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,m,6,0,"ng-container",4),t.YNc(5,C,12,8,"div",5),t.qZA(),t.YNc(6,P,16,5,"div",6),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",n.skeletonProducts),t.xp6(1),t.Q6J("ngForOf",n.products),t.xp6(1),t.Q6J("ngIf",0!==(null==n.products?null:n.products.length)))},dependencies:[g.yS,c.sg,c.O5,h.N9,u.YN,u.Kr,c.H9],styles:[".footer-pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}ngb-pagination[_ngcontent-%COMP%]     a{color:#585858!important;font-size:1.6rem}ngb-pagination[_ngcontent-%COMP%]     .page-item.active .page-link{background-color:#0d6efd;color:#fff!important}ngb-pagination[_ngcontent-%COMP%]     .page-item.active .page-link:focus, .page-link[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus{box-shadow:0 0 0 .1rem #696969}ngb-pagination[_ngcontent-%COMP%]     .page-link:not(:disabled):not(.disabled):active:focus{box-shadow:0 0 0 .1rem #696969}.right-pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1.2rem;color:#585858;font-size:1.6rem}.right-pagination[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#0d6efd;border:1px solid #bfbfbf;padding:.6rem 0}"]}),o})()}}]);